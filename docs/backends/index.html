<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Nspl has support for the following output formats and platforms:
 The &quot;io.github.pityka&quot; %% &quot;nspl-awt&quot; module works on the JVM and may produce PDF, SVG, EPS, PNG, JPG encoded images or documents, or draws into the interactive Java Graphics2D context). The &quot;io.github.pityka&quot; %%% &quot;nspl-canvas-js&quot; module runs in the browser and can draw onto an interactive html5 canvas. The &quot;io.github.pityka&quot; %%% &quot;scalatags-js&quot; module can produce an SVG image as a DOM subtree (using ScalaTags).">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Output formats" />
<meta property="og:description" content="Nspl has support for the following output formats and platforms:
 The &quot;io.github.pityka&quot; %% &quot;nspl-awt&quot; module works on the JVM and may produce PDF, SVG, EPS, PNG, JPG encoded images or documents, or draws into the interactive Java Graphics2D context). The &quot;io.github.pityka&quot; %%% &quot;nspl-canvas-js&quot; module runs in the browser and can draw onto an interactive html5 canvas. The &quot;io.github.pityka&quot; %%% &quot;scalatags-js&quot; module can produce an SVG image as a DOM subtree (using ScalaTags)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pityka.github.io/nspl/docs/backends/" /><meta property="article:section" content="docs" />



<title>Output formats | nspl</title>
<link rel="manifest" href="/nspl/manifest.json">
<link rel="icon" href="/nspl/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/nspl/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css" integrity="sha256-gsXb0jRHzuC0wqo&#43;0Izglh&#43;qQOH6Nw7uT4yfAuDUa18=" crossorigin="anonymous">
  <script defer src="/nspl/flexsearch.min.js"></script>
  <script defer src="/nspl/en.search.min.bdda15fb42017e735554551c0b61e4a239a14fce9f43f34ce521c3bd426d3158.js" integrity="sha256-vdoV&#43;0IBfnNVVFUcC2HkojmhT86fQ/NM5SHDvUJtMVg=" crossorigin="anonymous"></script>

  <script defer src="/nspl/sw.min.011b5f154e1d57a76fc75aaed4be4a07813108b2b19df910b069bb242d17785c.js" integrity="sha256-ARtfFU4dV6dvx1qu1L5KB4ExCLKxnfkQsGm7JC0XeFw=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/nspl/"><span>nspl</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://pityka.github.io/nspl/docs/usage/" class="">Usage overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://pityka.github.io/nspl/docs/datarenderers/" class="">Data renderers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://pityka.github.io/nspl/docs/layouts/" class="">Multi-panel figures</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://pityka.github.io/nspl/docs/backends/" class=" active">Output formats</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://pityka.github.io/nspl/docs/gallery/" class="">Plot gallery</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/nspl/api/" target="_blank" rel="noopener">
        API
      </a>
  </li>
  
  <li>
    <a href="https://github.com/pityka/nspl" target="_blank" rel="noopener">
        Code
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/nspl/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Output formats</strong>

  <label for="toc-control">
    
    <img src="/nspl/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#awt-backend-jvm">AWT backend (JVM)</a></li>
    <li><a href="#canvas-backend-scalajs">canvas backend (Scala.js)</a>
      <ul>
        <li><a href="#interactive-use-callbacks">Interactive use (callbacks)</a></li>
      </ul>
    </li>
    <li><a href="#scalatags-backends">scalatags backends</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><p>Nspl has support for the following output formats and platforms:</p>
<ol>
<li>The <code>&quot;io.github.pityka&quot; %% &quot;nspl-awt&quot;</code>  module works on the JVM and may produce PDF, SVG, EPS, PNG, JPG encoded images or documents, or draws into the interactive Java Graphics2D context).</li>
<li>The <code>&quot;io.github.pityka&quot; %%% &quot;nspl-canvas-js&quot;</code> module runs in the browser and can draw onto an interactive html5 canvas.</li>
<li>The <code>&quot;io.github.pityka&quot; %%% &quot;scalatags-js&quot;</code> module can produce an SVG image as a DOM subtree (using ScalaTags).</li>
<li>The <code>&quot;io.github.pityka&quot; %% &quot;scalatags-jvm&quot;</code> module can produce SVG documents using ScalaTags.</li>
</ol>
<h1 id="awt-backend-jvm">
  AWT backend (JVM)
  <a class="anchor" href="#awt-backend-jvm">#</a>
</h1>
<p>Add this to your build.sbt:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-scala" data-lang="scala">libraryDependencies <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;io.github.pityka&#34;</span> <span style="color:#f92672">%%</span> <span style="color:#e6db74">&#34;nspl-awt&#34;</span> <span style="color:#f92672">%</span> <span style="color:#e6db74">&#34;0.5.0&#34;</span>
</code></pre></div><p>You can use the methods in <code>org.nspl.awtrenderer</code> to produce plots, e.g.
<code>pdfToFile</code>, <code>pngToFile</code>, <code>pngToByteArray</code> etc. See this section of the API documentation: 
  <a href="https://pityka.github.io/nspl

/api/org/nspl/awtrenderer$.html">awtrenderer object</a> for all the variations of these.</p>
<h1 id="canvas-backend-scalajs">
  canvas backend (Scala.js)
  <a class="anchor" href="#canvas-backend-scalajs">#</a>
</h1>
<p>nspl has a high performance, high quality renderer for the html5 canvas.
It can deliver smooth framerates up to several thousand data points.
It also has good visual quality, e.g. on high DPI screens we render to an appropriately oversized raster.</p>
<p>The rendered plot receives and reacts to mouse events which makes it suitable for interactive use.</p>
<p>Add this to your build.sbt:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-scala" data-lang="scala">libraryDependencies <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;io.github.pityka&#34;</span> <span style="color:#f92672">%%%</span> <span style="color:#e6db74">&#34;nspl-canvas-js&#34;</span> <span style="color:#f92672">%</span> <span style="color:#e6db74">&#34;0.5.0&#34;</span>
</code></pre></div><p>You can use the <code>org.nspl.canvasrenderer.render</code> method to create a new canvas which you can then add to your DOM tree.</p>
<h2 id="interactive-use-callbacks">
  Interactive use (callbacks)
  <a class="anchor" href="#interactive-use-callbacks">#</a>
</h2>
<p>The backend supports basic user interaction like zooming and panning.
The canvas renderer backend draws a few thousand data points with 60fps.</p>
<p>The <code>org.nspl.canvasrenderer.render</code> method takes callback which is called whenever the user interacts with the plot on the canvas.
Furthermore the <code>render</code> method returns a 2-tuple: the first element is the canvas, the second is a lambda which you can use to update the plot. This lambda takes a renderable element from nspl.</p>
<p>The below example renders a plot which forwards events to DOM and receives events from the DOM.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.nspl._ 
<span style="color:#66d9ef">import</span> org.nspl.canvasrenderer._
<span style="color:#66d9ef">import</span> scala.util.Random.nextDouble
<span style="color:#66d9ef">import</span> org.scalajs.dom.document
<span style="color:#66d9ef">import</span> org.scalajs.dom.MouseEvent

<span style="color:#66d9ef">def</span> someData<span style="color:#f92672">()</span> <span style="color:#66d9ef">=</span> 
  <span style="color:#ae81ff">0</span> until <span style="color:#ae81ff">100</span> map <span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#66d9ef">=&gt;</span> nextDouble<span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> nextDouble<span style="color:#f92672">())</span>

<span style="color:#66d9ef">def</span> makePlot<span style="color:#f92672">()</span> <span style="color:#66d9ef">=</span> xyplot<span style="color:#f92672">(</span>someData<span style="color:#f92672">())(</span>par<span style="color:#f92672">())</span>

<span style="color:#66d9ef">val</span> logDiv <span style="color:#66d9ef">=</span> document<span style="color:#f92672">.</span>getElementById<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;log&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> button <span style="color:#66d9ef">=</span> document<span style="color:#f92672">.</span>getElementById<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;button&#34;</span><span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span>asInstanceOf<span style="color:#f92672">[</span><span style="color:#66d9ef">org.scalajs.dom.HTMLElement</span><span style="color:#f92672">]</span>

<span style="color:#66d9ef">val</span> <span style="color:#f92672">(</span>canvas<span style="color:#f92672">,</span> updatePlotCallback<span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> render<span style="color:#f92672">(</span>makePlot<span style="color:#f92672">(),</span>
                             width <span style="color:#66d9ef">=</span> <span style="color:#ae81ff">600</span><span style="color:#f92672">,</span> height <span style="color:#66d9ef">=</span> <span style="color:#ae81ff">600</span><span style="color:#f92672">,</span>
                             click <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span> clickedPlotElement <span style="color:#66d9ef">=&gt;</span> 
                                logDiv<span style="color:#f92672">.</span>textContent <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#34;Plot clicked&#34;</span>
                              <span style="color:#f92672">}</span>
                            <span style="color:#f92672">)</span>

<span style="color:#66d9ef">val</span> onClick <span style="color:#66d9ef">:</span> <span style="color:#66d9ef">MouseEvent</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Unit</span> <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">_:</span><span style="color:#66d9ef">MouseEvent</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span>
  updatePlotCallback<span style="color:#f92672">(</span>makePlot<span style="color:#f92672">())</span>
<span style="color:#f92672">}</span>                            

button<span style="color:#f92672">.</span>onclick <span style="color:#66d9ef">=</span> onClick
node<span style="color:#f92672">.</span>appendChild<span style="color:#f92672">(</span>canvas<span style="color:#f92672">)</span>

</code></pre></div><div id="mdoc-html-run0" data-mdoc-js><div id="log"></div>
<button type="button" id="button">Click me</button></div>
<h1 id="scalatags-backends">
  scalatags backends
  <a class="anchor" href="#scalatags-backends">#</a>
</h1>
<p>The JVM and Scala.js scalatags backends work similarly: you can use the <code>org.nspl.scalatagrenderer.renderToScalaTag</code> method to turn the nspl renderable element into a ScalaTag tree.</p>
<p>Add one of these to your build.sbt:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// for scala.js
</span><span style="color:#75715e"></span>libraryDependencies <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;io.github.pityka&#34;</span> <span style="color:#f92672">%%%</span> <span style="color:#e6db74">&#34;nspl-scalatags-js&#34;</span> <span style="color:#f92672">%</span> <span style="color:#e6db74">&#34;0.5.0&#34;</span>
<span style="color:#75715e">// or for the jvm
</span><span style="color:#75715e"></span>libraryDependencies <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;io.github.pityka&#34;</span> <span style="color:#f92672">%%</span> <span style="color:#e6db74">&#34;nspl-scalatags-jvm&#34;</span> <span style="color:#f92672">%</span> <span style="color:#e6db74">&#34;0.5.0&#34;</span>
</code></pre></div><script type="text/javascript" src="index.md.js" defer></script>
<script type="text/javascript" src="mdoc.js" defer></script>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#awt-backend-jvm">AWT backend (JVM)</a></li>
    <li><a href="#canvas-backend-scalajs">canvas backend (Scala.js)</a>
      <ul>
        <li><a href="#interactive-use-callbacks">Interactive use (callbacks)</a></li>
      </ul>
    </li>
    <li><a href="#scalatags-backends">scalatags backends</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












